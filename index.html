<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Be My Valentine ğŸ’–</title>

<style>
:root{
  --bg1:#ffb7b7;
  --bg2:#ffd1dc;
  --card1:#fff1f2;
  --card2:#ffe4e6;
  --text:#4a1c2f;
  --yes:#ff4d6d;
}

body{
  height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:system-ui, Arial;
  color:var(--text);
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  overflow:hidden;
}

.card{
  background:linear-gradient(135deg,var(--card1),var(--card2));
  padding:30px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 12px 35px rgba(0,0,0,.18);
  max-width:620px;
  width:calc(100% - 40px);
  cursor:pointer;
  position:relative;
}

.fake-img{
  width:140px;
  height:140px;
  margin:0 auto 14px;
  border-radius:16px;
  display:grid;
  place-items:center;
  font-size:46px;
  background:rgba(255,255,255,.6);
}

p{
  font-size:18px;
  line-height:1.6;
  min-height:110px;
}

.buttons{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:18px;
  margin-top:20px;
  position:relative;
  height:90px;
}

button{
  padding:12px 22px;
  font-size:18px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  transition:transform .15s ease, filter .2s ease;
}

#yes{
  background:var(--yes);
  color:white;
  box-shadow:0 10px 25px rgba(255,77,109,.35);
}

#no{
  background:#d3d3d3;
  color:#333;
}

/* Confetti */
.confetti-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}
.confetti{
  position:absolute;
  top:-10px;
  width:10px;
  height:14px;
  border-radius:2px;
  animation:fall linear forwards;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(720deg);}
}

/* Countdown */
.countdown{
  position:absolute;
  inset:0;
  background:rgba(255,255,255,.6);
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:54px;
  font-weight:800;
  border-radius:22px;
}
</style>
</head>

<body>

<div class="card" id="card">
  <div class="fake-img">ğŸŸğŸ’–</div>

  <h1>Hey my Ponyo ğŸ’–</h1>

  <p id="message"></p>

  <h2>Will you be my Valentine? ğŸ’˜</h2>

  <div class="buttons" id="btnBox">
    <button id="yes">YES ğŸ’•</button>
    <button id="no">NO ğŸ˜…</button>
  </div>
</div>

<script>
const messageLines = [
  "Thank you for leaving the sea and coming into my world.",
  "You turned ordinary days into something magical.",
  "Every smile of yours feels like sunshine after rain.",
  "And somehow, everything feels better when youâ€™re around."
];

const msgEl = document.getElementById("message");
const card = document.getElementById("card");
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const btnBox = document.getElementById("btnBox");

let line = 0, char = 0;
function typeWriter(){
  if(line >= messageLines.length) return;
  if(char < messageLines[line].length){
    msgEl.innerHTML += messageLines[line][char++];
    setTimeout(typeWriter, 22);
  } else {
    msgEl.innerHTML += "<br>";
    line++; char = 0;
    setTimeout(typeWriter, 420);
  }
}
typeWriter();

/* Confetti */
function partyBlast(pieces=90){
  const layer = document.createElement("div");
  layer.className="confetti-layer";
  document.body.appendChild(layer);

  const colors=["#ff4d6d","#ffd166","#06d6a0","#4dabf7","#b197fc"];
  for(let i=0;i<pieces;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=colors[Math.floor(Math.random()*colors.length)];
    c.style.animationDuration=900+Math.random()*900+"ms";
    layer.appendChild(c);
  }
  setTimeout(()=>layer.remove(),1600);
}

/* Card click â†’ confetti (NOT from buttons) */
card.addEventListener("click", (e)=>{
  if(e.target.closest("button")) return;
  partyBlast(90);
});

/* NO button escape (NO CONFETTI EVER) */
function moveNo(){
  const maxX = btnBox.clientWidth - noBtn.offsetWidth;
  const maxY = btnBox.clientHeight - noBtn.offsetHeight;
  noBtn.style.position="absolute";
  noBtn.style.left=Math.random()*maxX+"px";
  noBtn.style.top=Math.random()*maxY+"px";
}

["pointerdown","mouseover","touchstart","click"].forEach(evt=>{
  noBtn.addEventListener(evt,(e)=>{
    e.preventDefault();
    e.stopPropagation();
    e.stopImmediatePropagation();
    moveNo();
  },{passive:false});
});

/* YES click */
yesBtn.addEventListener("click",(e)=>{
  e.stopPropagation();

  const overlay=document.createElement("div");
  overlay.className="countdown";
  overlay.textContent="3";
  card.appendChild(overlay);

  let n=3;
  const t=setInterval(()=>{
    n--;
    overlay.textContent=n>0?n:"ğŸ’–";
    if(n<=0){
      clearInterval(t);
      showFinal();
    }
  },700);
});

function showFinal(){
  document.body.innerHTML=`
  <div style="height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#ffb7b7,#ffd1dc);font-family:system-ui;">
    <div style="background:linear-gradient(135deg,#fff1f2,#ffe4e6);padding:36px;border-radius:22px;box-shadow:0 12px 35px rgba(0,0,0,.18);text-align:center;">
      <h1>ğŸ’– Big Congratulations ğŸ’–</h1>
      <p style="font-size:20px;">
        You are officially the Valentine of<br>
        <strong>Sourabh Sharma (Sosuke)</strong> ğŸ’•
      </p>
      <p style="font-size:20px;">
        I choose you today.<br>
        Iâ€™ll choose you tomorrow.<br>
        And Iâ€™ll choose you â€” always.
      </p>
      <p style="font-size:22px;">ğŸ’˜ Happy Valentineâ€™s Day ğŸ’˜</p>
    </div>
  </div>`;
  partyBlast(140);
}
</script>

</body>
</html>
