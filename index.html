<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Be My Valentine üíñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --bg1:#ffb7b7;
      --bg2:#ffd1dc;
      --card1:#fff1f2;
      --card2:#ffe4e6;
      --text:#4a1c2f;
      --yes:#ff4d6d;
    }

    body{
      height:100vh;
      margin:0;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family:system-ui, Arial;
      color:var(--text);
      overflow:hidden;

      /* dreamy sky + stars */
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,.35) 0 1px, transparent 2px),
        radial-gradient(circle at 70% 20%, rgba(255,255,255,.28) 0 1px, transparent 2px),
        radial-gradient(circle at 40% 75%, rgba(255,255,255,.22) 0 1px, transparent 2px),
        radial-gradient(circle at 85% 65%, rgba(255,255,255,.25) 0 1px, transparent 2px),
        radial-gradient(circle at 10% 80%, rgba(255,255,255,.2) 0 1px, transparent 2px),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      background-size: 220px 220px, 260px 260px, 240px 240px, 300px 300px, 280px 280px, cover;
      animation: twinkle 3.5s ease-in-out infinite alternate;
    }

    @keyframes twinkle{
      from{ filter: brightness(1); }
      to{ filter: brightness(1.04); }
    }

    .card{
      background: linear-gradient(135deg, var(--card1), var(--card2));
      padding: 30px 35px;
      border-radius: 22px;
      text-align: center;
      box-shadow: 0 12px 35px rgba(0,0,0,0.18);
      max-width: 640px;
      width: calc(100% - 40px);
      cursor: pointer; /* click message = party blast */
      user-select: none;
      position: relative;
      z-index: 2;
    }

    .ponyo-img{
      width: 140px;
      border-radius: 16px;
      margin-bottom: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      display:block;
      margin-left:auto;
      margin-right:auto;
      pointer-events:none;
    }

    h1,h2{ pointer-events:none; }
    h2{ margin-top:25px; }

    p{
      font-size:18px;
      line-height:1.6;
      pointer-events:none;
      min-height: 120px; /* helps typewriter not jump */
    }

    .hint{
      font-size: 13px;
      opacity: .75;
      margin-top: 10px;
      pointer-events:none;
    }

    /* buttons in same line */
    .buttons{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:20px;
      margin-top:20px;
      position:relative; /* NO escapes inside here */
      height: 90px;
    }

    button{
      padding: 12px 22px;
      font-size: 18px;
      border-radius: 14px;
      border:none;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .25s ease, filter .25s ease;
      position: relative;
      touch-action: manipulation;
    }

    button:active{ transform: scale(.95); }

    #yes{
      background: var(--yes);
      color:white;
      z-index:3;
      box-shadow: 0 10px 25px rgba(255,77,109,.35);
    }

    #no{
      background:#d3d3d3;
      color:#333;
      z-index:3;
    }

    /* floating hearts background */
    .heart-float-layer{
      position: fixed;
      inset: 0;
      pointer-events:none;
      overflow:hidden;
      z-index: 1;
    }
    .float-heart{
      position:absolute;
      bottom:-20px;
      font-size: 16px;
      opacity: .55;
      animation: floatUp linear forwards;
      filter: blur(.1px);
    }
    @keyframes floatUp{
      to{
        transform: translateY(-110vh) translateX(30px) rotate(25deg);
        opacity: 0;
      }
    }

    /* confetti layer */
    .confetti-layer{
      position: fixed;
      inset: 0;
      pointer-events:none;
      overflow:hidden;
      z-index: 9999;
    }
    .confetti{
      position:absolute;
      top:-10px;
      width:10px;
      height:14px;
      opacity:.95;
      border-radius:2px;
      animation: fall linear forwards;
      transform: rotate(0deg);
    }
    @keyframes fall{
      to{ transform: translateY(110vh) rotate(720deg); opacity: 1; }
    }

    /* heart burst particles */
    .burst-heart{
      position: fixed;
      left: 0; top: 0;
      will-change: transform, opacity;
      pointer-events:none;
      z-index: 10000;
      font-size: 18px;
      opacity: 1;
      transform: translate(-999px,-999px);
      animation: burst 900ms ease-out forwards;
      text-shadow: 0 8px 18px rgba(0,0,0,.12);
    }
    @keyframes burst{
      to{
        transform: translate(var(--tx), var(--ty)) scale(0.9);
        opacity: 0;
      }
    }

    /* countdown overlay */
    .countdown{
      position:absolute;
      inset: 0;
      display:flex;
      justify-content:center;
      align-items:center;
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(6px);
      border-radius: 22px;
      font-size: 54px;
      font-weight: 800;
      letter-spacing: 2px;
      z-index: 5;
    }

    /* toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 22px;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(0,0,0,0.06);
      padding: 10px 14px;
      border-radius: 14px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
      z-index: 10000;
      font-size: 14px;
      max-width: min(520px, calc(100% - 30px));
      text-align:center;
    }

    /* final ‚ÄúToday / Tomorrow / Always‚Äù animation */
    .promise span{
      display:inline-block;
      opacity:0;
      transform: translateY(8px);
      animation: riseIn 900ms ease forwards;
    }
    .promise span:nth-child(1){ animation-delay: 0ms; }
    .promise span:nth-child(2){ animation-delay: 600ms; }
    .promise span:nth-child(3){ animation-delay: 1200ms; }
    @keyframes riseIn{
      to{ opacity:1; transform: translateY(0); }
    }

    /* shooting star */
    .shooting-star{
      position: fixed;
      width: 180px;
      height: 2px;
      background: rgba(255,255,255,.95);
      box-shadow: 0 0 12px rgba(255,255,255,.9);
      opacity: 0.9;
      transform: rotate(-25deg);
      z-index: 9000;
      pointer-events:none;
      animation: shoot 900ms ease-out forwards;
    }
    @keyframes shoot{
      to{
        transform: translate(380px, 220px) rotate(-25deg);
        opacity: 0;
      }
    }

    /* üíî Fake crash overlay */
    .crash{
      position: fixed;
      inset: 0;
      z-index: 20000;
      background: rgba(15, 6, 10, 0.92);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 28px;
      text-align: center;
      font-family: system-ui, Arial;
    }
    .crash-box{
      max-width: 720px;
      width: min(720px, calc(100% - 30px));
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 20px;
      padding: 26px 22px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.45);
      backdrop-filter: blur(10px);
    }
    .crash-title{
      font-size: 30px;
      font-weight: 900;
      margin: 0 0 10px;
      letter-spacing: 0.3px;
    }
    .crash-sub{
      font-size: 16px;
      opacity: 0.9;
      margin: 0 0 16px;
      line-height: 1.6;
    }
    .crash-code{
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      font-size: 14px;
      opacity: 0.95;
      background: rgba(0,0,0,0.25);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 12px 14px;
      border-radius: 14px;
      text-align: left;
      margin: 14px 0 18px;
    }
    .crash-actions{
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .crash-actions button{
      border: none;
      border-radius: 14px;
      padding: 12px 18px;
      font-size: 16px;
      cursor: pointer;
      transition: transform .12s ease, filter .2s ease;
    }
    .crash-actions button:active{ transform: scale(.97); }
    .crash-accept{
      background: var(--yes);
      color: #fff;
      box-shadow: 0 12px 30px rgba(255,77,109,.35);
    }
    .crash-try{
      background: rgba(255,255,255,0.85);
      color: #2b0e1b;
    }
  </style>
</head>

<body>
  <div class="heart-float-layer" id="heartLayer"></div>

  <div class="card" id="messageCard" title="Tap/click the message üéâ">
    <img src="ponyo.jpg" alt="Ponyo" class="ponyo-img" />

    <h1 id="titleLine">Hey my Ponyo üíñ</h1>

    <p id="typewriter"></p>
    <div class="hint">(Tap the message for a surprise ‚ú®)</div>

    <h2>Will you be my Valentine? üíò</h2>

    <div class="buttons" id="btnContainer">
      <button id="yes">YES üíï</button>
      <button id="no">NO üòÖ</button>
    </div>
  </div>

  <script>
    window.addEventListener("DOMContentLoaded", () => {

      /**********************
       * Customize here
       **********************/
      const herName = "My Love"; // <-- put her name here if you want (e.g. "Ayesha")
      const titleText = `Hey my Ponyo${herName ? ", " + herName : ""} üíñ`;

      const loveLetterLines = [
        "Thank you for leaving the sea and coming into my world.",
        "You turned ordinary days into something magical.",
        "Every smile of yours feels like sunshine after rain.",
        "And somehow, everything feels better when you‚Äôre around."
      ];

      /**********************
       * Elements
       **********************/
      const noBtn = document.getElementById("no");
      const yesBtn = document.getElementById("yes");
      const container = document.getElementById("btnContainer");
      const messageCard = document.getElementById("messageCard");
      const typewriterEl = document.getElementById("ty
